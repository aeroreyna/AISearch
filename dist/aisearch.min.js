/*! aisearch 2017-01-24 */
function argmin(a){for(var b=a.length,c=0,d=1/0,e=0;b>e;e++)a[e]<d&&(d=a[e],c=e);return c}function isInIt(a,b){for(var c=0;c<a.length;c++)if(a[c]==b)return!0;return!1}function rand(a,b){for(var c=zeros(a,b),d=0;a>d;d++)for(var e=0;b>e;e++)c[d][e]=Math.random();return c}function randperm(a){for(var b=[],c=zeros(a,1),d=0;a>d;d++)c[d]=d;for(var d=0;a>d;d++){var e=randi(c.length);b.push(c.splice(e,1)[0])}return b}function randi(a){return Math.floor(Math.random()*a-1e-6)}function sortArg(a){for(var b=a.length,c=[],d=0,e=1/0,f=0;b>f;f++){d=0,e=1/0;for(var g=0;b>g;g++)0==isInIt(c,g)&&a[g]<e&&(e=a[g],d=g);c.push(d)}return c}function zeros(a,b){for(var c=[],d=0;a>d;d++){var e=new Array(b);e.fill(0),c.push(e)}return c}AISearch={sizePopulation:30,population:[],fitness:[],bestFitness:1/0,bestSolution:[],numberOfFunctionCalls:0,maxNoIterations:100,actualIteration:0,fitnessFunction:void 0,noDimensions:2,benchmarkFunctions:{},historicBestSolution:[],historicBestFitness:[],eachIterationFunction:void 0,customPlotFunction:void 0,plotEachIterationB:!1,plotPopulationB:!1,plotBestSolutionB:!1,plotHistoricB:!0,operators:void 0},AISearch.start=function(){return void 0==this.fitnessFunction?-1:(0==this.population.length&&(this.initialPopulation(),this.evalPopulation()),0==this.fitness.length&&this.evalPopulation(),this.historicBestSolution=zeros(this.maxNoIterations,this.noDimensions),this.historicBestFitness=zeros(this.maxNoIterations,1),this.updateBest(),void this.historicBestSolution.forEach(function(a,b){this.actualIteration=b,this.operators(),this.updateBest(),this.historicBestSolution[b]=this.bestSolution,this.historicBestFitness[b]=this.bestFitness,this.plotEachIterationB&&this.plot(),void 0!=this.eachIterationFunction&&this.eachIterationFunction(obj)},this))},AISearch.about=function(){console.log("AISearch v.1.0.0")},AISearch.checkBounds=function(a){var b=a?!0:!1;a=a||this.population;for(var c=0;c<a.length;c++)for(var d=0;d<this.noDimensions;d++)a[c][d]=a[c][d]>1?1:a[c][d],a[c][d]=a[c][d]<0?0:a[c][d];return 0==b&&(this.population=a),a},AISearch.evalPopulation=function(a){var b=a?!0:!1;a=a||this.population;for(var c=zeros(a.length,1),d=0;d<a.length;d++)c[d]=this.fitnessFunction(a[d]);return 0==b&&(this.fitness=c),c},AISearch.updateBest=function(){var a=argmin(this.fitness);this.fitness[a]<this.bestFitness&&(this.bestSolution=this.population[a],this.bestFitness=this.fitness[a])},AISearch.getBenchmarkList=function(){var a=[];for(temp in this.benchmarkFunctions)a.push(temp);return a},AISearch.initPopulation=function(a,b){this.sizePopulation=a||this.sizePopulation,this.noDimensions=b||this.noDimensions,this.population=rand(this.sizePopulation,this.noDimensions),this.bestFitness=1/0,this.bestSolution=[]},AISearch.plot=function(){void 0!=this.customPlotFunction&&this.customPlotFunction()},AISearch.selectNDifferentSolutions=function(a,b){for(var c=randperm(a),d=[],e=0;b>e;e++)d.push(c[e]);return d},AISearch.sortPopulation=function(){for(var a=[],b=[],c=sortArg(this.fitness),d=0;d<this.sizePopulation;d++)a.push(this.population[c[d]]),b.push(this.fitness[c[d]]);this.population=a,this.fitness=b},AISearch.operatorsDE=function(){for(var a=.7,b=.5,c=0;c<this.sizePopulation;c++){for(var d=this.selectNDifferentSolutions(this.sizePopulation,5),e=randi(this.noDimensions),f=this.population[d[0]].slice(),g=0;g<this.noDimensions;g++)(e==g||Math.random()>a)&&(f[g]=this.bestSolution[g]+b*(this.population[d[1]][g]-this.population[d[2]][g])+b*(this.population[d[3]][g]-this.population[d[4]][g]),f[g]=f[g]>1?1:f[g],f[g]=f[g]<0?0:f[g]);var h=this.evalPopulation([f]);h[0]<this.fitness[d[0]]&&(this.fitness[d[0]]=h[0],this.population[d[0]]=f)}},AISearch.initilicePSO=function(){this.bestPersonal=this.population.slice(),this.bestPersonalF=this.fitness.slice(),this.velocity=zeros(this.sizePopulation,this.noDimensions)},AISearch.operatorsPSO=function(){var a=.3,b=.4,c=.9;(void 0==this.bestPersonal||void 0==this.velocity)&&this.initilicePSO(),(this.bestPersonal.length!=this.sizePopulation||this.velocity.length!=this.sizePopulation)&&this.initilicePSO();for(var d=0;d<this.sizePopulation;d++)for(var e=0;e<this.noDimensions;e++){var f=Math.random()*(this.population[d][e]-this.bestPersonal[d][e]),g=Math.random()*(this.bestSolution[e]-this.bestPersonal[d][e]);this.velocity[d][e]=c*this.velocity[d][e]+a*f+b*g,this.bestPersonal[d][e]=this.bestPersonal[d][e]+this.velocity[d][e]}this.bestPersonal=this.checkBounds(this.bestPersonal),this.bestPersonalF=this.evalPopulation(this.bestPersonal);for(var d=0;d<this.sizePopulation;d++)this.fitness[d]>this.bestPersonalF[d]&&(this.fitness[d]=this.bestPersonalF[d]+0,this.population[d]=this.bestPersonal[d].slice())},AISearch.benchmarkFunctions.ackley={eval:function(a){var b=a.length,c=0;for(c=0;b>c;c++)a[c]=70*a[c]-35;var d=20,e=.2,f=2*Math.PI,g=0,h=0;for(c=0;b>c;c++)g+=Math.pow(a[c],2),h+=Math.cos(a[c]*f);return-d*Math.exp(-e*Math.sqrt(1/b*g))-Math.exp(1/b*h)+d+Math.exp(1)},name:"ackley",lowLimit:-35,highLimit:35,minimumFitness:0,minimumPosition2D:[0,0],continuous:!0,differenciable:!0,Separable:!1,scalable:!0,multimodal:!0,multipleGlobal:!1},AISearch.benchmarkFunctions.alpine={eval:function(a){var b=a.length,c=0;for(c=0;b>c;c++)a[c]=20*a[c]-10;var d=0;for(c=0;b>c;c++)d+=Math.abs(a[c]*Math.sin(a[c])+.1*a[c]);return d},name:"alpine",lowLimit:-10,highLimit:10,minimumFitness:0,minimumPosition2D:[0,0],continuous:!0,differenciable:!1,Separable:!0,scalable:!0,multimodal:!0,multipleGlobal:!1},AISearch.benchmarkFunctions.alpine2={eval:function(a){var b=a.length,c=0;for(c=0;b>c;c++)a[c]=10*a[c];var d=1;for(c=0;b>c;c++)d*=Math.sqrt(a[c])*Math.sin(a[c]);return d},name:"alpine",lowLimit:0,highLimit:10,minimumFitness:7.8849,minimumPosition2D:[7.917,7.917],continuous:!0,differenciable:!0,Separable:!0,scalable:!0,multimodal:!0,multipleGlobal:!1},AISearch.benchmarkFunctions.bartels={eval:function(a){var b=a.length,c=0;for(c=0;b>c;c++)a[c]=1e3*a[c]-500;return Math.abs(Math.pow(a[0],2)+Math.pow(a[1],2)*a[0]*a[1])+Math.abs(Math.sin(a[0]))+Math.abs(Math.cos(a[1]))},name:"bartels",lowLimit:-500,highLimit:500,minimumFitness:1,minimumPosition2D:[0,0],continuous:!0,differenciable:!1,Separable:!1,scalable:!1,multimodal:!0,multipleGlobal:!1},AISearch.benchmarkFunctions.bartels={eval:function(a){var b=a.length,c=0;for(c=0;b>c;c++)a[c]=9*a[c]-4.5;return Math.pow(1.5-a[0]+a[0]*a[1],2)+Math.pow(2.25-a[0]+a[0]*Math.pow(a[1],2),2)+Math.pow(2.625-a[0]+a[0]*Math.pow(a[1],3),2)},name:"bartels",lowLimit:-4.5,highLimit:4.5,minimumFitness:0,minimumPosition2D:[3,.5],continuous:!0,differenciable:!0,Separable:!1,scalable:!1,multimodal:!1,multipleGlobal:!1},AISearch.benchmarkFunctions.bird={eval:function(a){var b=a.length,c=0;for(c=0;b>c;c++)a[c]=4*Math.PI*a[c]-2*Math.PI;return Math.sin(a[0])*Math.exp(Math.pow(1-Math.cos(a[1]),2))+Math.cos(a[1])*Math.exp(Math.pow(1-Math.sin(a[0]),2))+Math.pow(a[0]-a[1],2)},name:"bird",lowLimit:-2*Math.PI,highLimit:2*Math.PI,minimumFitness:-106.764537,minimumPosition2D:[[4.70104,3.15294],[-1.58214,-3.13024]],continuous:!0,differenciable:!0,Separable:!1,scalable:!1,multimodal:!0,multipleGlobal:!0},AISearch.benchmarkFunctions.booth={eval:function(a){var b=a.length,c=0;for(c=0;b>c;c++)a[c]=20*a[c]-10;return Math.pow(a[0]+2*a[1]-7,2)+Math.pow(2*a[0]+a[1]-5,2)},name:"booth",lowLimit:-10,highLimit:10,minimumFitness:0,minimumPosition2D:[1,3],continuous:!0,differenciable:!0,Separable:!1,scalable:!1,multimodal:!1,multipleGlobal:!1},AISearch.benchmarkFunctions.branin={eval:function(a){a.length;return a[0]=15*a[0]-5,a[1]=15*a[1],Math.pow(a[1]-5.1*Math.pow(a[0],2)/(4*Math.pow(Math.PI,2))+5*a[0]/Math.PI-6,2)+10*(1-1/(8*Math.PI))*Math.cos(a[0])+10},name:"branin",lowLimit:[-5,0],highLimit:[10,15],minimumFitness:.3978873,minimumPosition2D:[[-Math.PI,12.275],[Math.PI,2.275],[3*Math.PI,2.425]],continuous:!0,differenciable:!0,Separable:!1,scalable:!1,multimodal:!0,multipleGlobal:!0},AISearch.benchmarkFunctions.schwefel={eval:function(a){var b=a.length,c=0;for(c=0;b>c;c++)a[c]=1e3*a[c]-500;var d=0;for(c=0;b>c;c++)d+=-a[c]*Math.sin(Math.sqrt(Math.abs(a[c])));return 418.9829*b+d},name:"schwefel",lowLimit:-500,highLimit:500,minimumFitness:0,minimumPosition2D:[1,3],continuous:!0,differenciable:!0,Separable:!1,scalable:!0,multimodal:!0,multipleGlobal:!1};